# luna_pinyin.custom.yaml
#
# è£œéªåŠŸèƒ½ï¼šå°‡æœ™æœˆæ‹¼éŸ³çš„è©åº«ä¿®æ”¹çˆ²æœ™æœˆæ‹¼éŸ³æ“´å……è©åº«
#
# ä½œè€…ï¼šç‘¾æ˜€ <cokunhui@gmail.com>
#
# éƒ¨ç½²ä½ç½®ï¼š
# ~/.config/ibus/rime  (Linux)
# ~/Library/Rime  (Mac OS)
# %APPDATA%\Rime  (Windows)
#
# æ–¼é‡æ–°éƒ¨ç½²å¾Œç”Ÿæ•ˆ
#
#
# æ³¨æ„ï¼šæœ¬è£œéªé©ç”¨æ–¼æ‰€æœ‰æœ™æœˆæ‹¼éŸ³ç³»åˆ—æ–¹æ¡ˆï¼ˆã€Œæœ™æœˆæ‹¼éŸ³ã€ã€ã€Œæœ™æœˆæ‹¼éŸ³Â·ç®€åŒ–å­—ã€ã€ã€Œæœ™æœˆæ‹¼éŸ³Â·è‡ºç£æ­£é«”ã€ã€ã€Œæœ™æœˆæ‹¼éŸ³Â·èªå¥æµã€ï¼‰ã€‚
# åªé ˆå°‡æœ¬ custom.yaml çš„å‰é¢åå­—æ”¹çˆ²å°æ‡‰çš„è¼¸å…¥æ–¹æ¡ˆåå­—ç„¶å¾Œæ”¾å…¥ç”¨æˆ¶æ–‡ä»¶å¤¾é‡æ–°éƒ¨ç½²å³å¯ã€‚å¦‚ luna_pinyin_simp.custom.yamlã€‚
# é›™æ‹¼ç”¨æˆ¶è«‹ä½¿ç”¨ double_pinyin.custom.yamlã€‚
#
#
# é™„æœ™æœˆæ‹¼éŸ³ç³»åˆ—æ–¹æ¡ˆèˆ‡å…¶å°æ‡‰çš„ id ä¸€è¦½è¡¨ï¼š
# è¼¸å…¥æ–¹æ¡ˆ	id
# æœ™æœˆæ‹¼éŸ³	luna_pinyin
# æœ™æœˆæ‹¼éŸ³Â·ç®€åŒ–å­—	luna_pinyin_simp
# æœ™æœˆæ‹¼éŸ³Â·è‡ºç£æ­£é«”	luna_pinyin_tw
# æœ™æœˆæ‹¼éŸ³Â·èªå¥æµ	luna_pinyin_fluency
#

patch:

  # è¼‰å…¥æœ™æœˆæ‹¼éŸ³æ“´å……è©åº«
  #"translator/dictionary": double_pinyin.extended
  "translator/dictionary": rime_ice
  # æ”¹å¯«æ‹¼å¯«é‹ç®—ï¼Œä½¿å¾—å«è¥¿æ–‡çš„è©å½™ï¼ˆä½æ–¼ luna_pinyin.cn_en.dict.yaml ä¸­ï¼‰ä¸å½±éŸ¿ç°¡æ‹¼åŠŸèƒ½ï¼ˆæ³¨æ„ï¼Œæ­¤åŠŸèƒ½åªé©ç”¨æ–¼æœ™æœˆæ‹¼éŸ³ç³»åˆ—æ–¹æ¡ˆï¼Œä¸é©ç”¨æ–¼å„é¡é›™æ‹¼æ–¹æ¡ˆï¼‰
  # æœ¬æ¢è£œéªåªåœ¨ã€Œå°ç‹¼æ¯« 0.9.30ã€ã€ã€Œé¼ é¬šç®¡ 0.9.25 ã€ã€ã€ŒRime-1.2ã€åŠæ›´é«˜çš„ç‰ˆæœ¬ä¸­èµ·ä½œç”¨ã€‚
  #"speller/algebra/@before 0": xform/^([b-df-np-z])$/$1_/
  
  # ç‰¹æ®Šç¬¦å·è®¾ç½® - ä»¥/ä½œä¸ºè§¦å‘å‰ç¼€
  #"punctuator/import_preset": symbols
  #"recognizer/patterns/punct": "^/([0-9]0?|[A-Za-z]+)$"
  
  # å¦‚æœä¸æƒ³è®©ä»€ä¹ˆæ ‡ç‚¹ç›´æ¥ä¸Šå±ï¼Œå¯ä»¥åŠ åœ¨ alphabetï¼Œæˆ–è€…ç¼–è¾‘æ ‡ç‚¹ç¬¦å·ä¸ºä¸¤ä¸ªåŠä»¥ä¸Šçš„æ˜ å°„
  # Væ¨¡å¼ å°é”®ç›˜æ•°å­—é”®è¿›è¡Œå€™é€‰è¯é€‰æ‹©ï¼Œä¸»é”®ç›˜æ•°å­—é”®æ˜¯è¾“å…¥è¯
  "speller/alphabet": zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA
  "punctuator/import_preset": symbols_v
  "recognizer/patterns/+":
    punct: "^v([0-9]0?|[A-Za-z]+)$"
    number: "^R[0-9]+[.]?[0-9]*"
    gregorian_to_lunar: "^N[0-9]{1,8}"
    email: "^[A-Za-z][-_.0-9A-Za-z]*@.*$"                            # email @ ä¹‹åä¸ä¸Šå±
    url: "^(www[.]|https?:|ftp[.:]|mailto:|file:).*$|^[a-z]+[.].+$"  # URL
  
  # emojiè®¾ç½®
  switches/@next:
    name: emoji
    reset: 1
    states: [ "ğŸˆšï¸", "ğŸˆ¶ï¸" ]
    
  "engine/filters/@before 0":
    simplifier@emoji
    
  emoji:
    opencc_config: emoji.json
    option_name: emoji
    tips: none
    inherit_comment: false # åœ¨ corrector.lua åŠåæŸ¥ä¸­ï¼Œemoji çš„ comment æ˜¾ç¤ºä¸ºç©º
    
  
  # ä¸­è‹±æ–‡æ··è¾“è®¾ç½®ï¼Œé€šè¿‡åŠ è½½è‹±æ–‡æ–¹æ¡ˆå®ç°
  #"translator/initial_quality": 1.1
  "schema/dependencies/+":
    - melt_eng
    
  "engine/translators/+":
    - table_translator@melt_eng
    - lua_translator@*date_translator
    - lua_translator@*number_translator
    - lua_translator@*lunar
    - table_translator@custom_phrase
  
  # ä»¥è¯å®šå­—ï¼Œå¿«æ·é”®[]
  "engine/processors/@before 0":
    lua_processor@*select_character
    
  melt_eng:
    dictionary: melt_eng
    enable_sentence: false   # ç¦æ­¢é€ å¥
    enable_user_dict: false  # ç¦ç”¨ç”¨æˆ·è¯å…¸
    #initial_quality: 1.1     # è‹±æ–‡æƒé‡ 1.1
    comment_format:          # è‡ªå®šä¹‰æç¤ºç 
      - xform/.*//           # æ¸…ç©ºæç¤ºç ï¼ˆå°±æ˜¯æ²¡æœ‰é‚£ä¸ªå°å°¾å·´ï¼‰
      
  # Lua é…ç½®: æ—¥æœŸã€æ—¶é—´ã€æ˜ŸæœŸã€ISO 8601ã€æ—¶é—´æˆ³çš„è§¦å‘å…³é”®å­—
  date_translator:
    date: date            # æ—¥æœŸï¼š 2022-11-29
    time: time            # æ—¶é—´ï¼š 18:13
    week: week            # æ˜ŸæœŸï¼š æ˜ŸæœŸäºŒ
    datetime: datetime    # ISO 8601ï¼š 2022-11-29T18:13:11+08:00
    timestamp: timestamp  # æ—¶é—´æˆ³ï¼š 1669716794
    
  # Lua é…ç½®ï¼šå†œå†çš„è§¦å‘å…³é”®å­—
  lunar: lunar  # å†œå†ï¼š äºŒã€‡äºŒä¸‰å¹´å†¬æœˆäºŒå ç™¸å¯å¹´ï¼ˆå…”ï¼‰å†¬æœˆäºŒå
  
  # è‡ªå®šä¹‰çŸ­è¯­
  custom_phrase:
    dictionary: ""
    user_dict: custom_phrase_double  # éœ€è¦æ‰‹åŠ¨åˆ›å»º custom_phrase_double.txt æ–‡ä»¶
    db_class: stabledb
    enable_completion: false # è¡¥å…¨æç¤º
    enable_sentence: false   # ç¦æ­¢é€ å¥
    initial_quality: 99      # custom_phrase çš„æƒé‡åº”è¯¥æ¯” pinyin å’Œ melt_eng å¤§
    
    
  schema/icon: icons/chinese.ico
  schema/ascii_icon:  icons/eng.ico